(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{421:function(s,t,e){"use strict";e.r(t);var a=e(56),n=Object(a.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"troubleshooting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[s._v("#")]),s._v(" Troubleshooting")]),s._v(" "),e("p",[s._v("If you're encountering some oddities using "),e("em",[s._v("NubesGen")]),s._v(", here's a list of resolutions to some of the problems you may be experiencing.")]),s._v(" "),e("h2",{attrs:{id:"the-subscription-1234-abcd-1234abcd-could-not-be-found"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#the-subscription-1234-abcd-1234abcd-could-not-be-found"}},[s._v("#")]),s._v(" The subscription '1234-abcd-1234abcd' could not be found")]),s._v(" "),e("p",[s._v("NubesGen needs to connect to Azure so it can create and configure resources.\nFor that, it uses your Azure subscription.\nBut you might have several subscriptions, some might have expired, or your local account could be desynchronized with your remote account.\nSo you might have the following error message:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ ./nubesgen-cli-linux gitops\n\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/8"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Checking Azure CLI status"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("/8"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Checking GitHub CLI status"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("/8"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" Create resource group "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"rg-terraform-001"')]),s._v("\nThe subscription "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'1234-abcd-1234abcd'")]),s._v(" could not be found.\n")])])]),e("p",[s._v("To solve this problem, first, check your account and the list of subscriptions you have locally:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ az account show\n\n$ az account list\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cloudName"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AzureCloud"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"homeTenantId"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1234-abcd-1234abcd"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"isDefault"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo.bar@team.com"')]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(",\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cloudName"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"AzureCloud"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"homeTenantId"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"zyxw-9876-9876zyxw"')]),s._v(",\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"isDefault"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"user"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"name"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"foo.bar@team.com"')]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),e("p",[s._v("In the list of subscription above, "),e("code",[s._v("1234-abcd-1234abcd")]),s._v(" is the default one ("),e("code",[s._v('"isDefault": true')]),s._v(").\nIf you need to change it, and set the subscription "),e("code",[s._v("zyxw-9876-9876zyxw")]),s._v(" to be the default, execute the following command:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ az account "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" --subscription zyxw-9876-9876zyxw\n")])])]),e("p",[s._v("The command "),e("code",[s._v("az account list")]),s._v(" lists your local subscriptions, and you might be out of synch with your remote account.\nTo refresh the list of subscriptions, execute the following command:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ az account list --refresh\n")])])]),e("h2",{attrs:{id:"logging-is-not-enabled-for-this-container"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#logging-is-not-enabled-for-this-container"}},[s._v("#")]),s._v(" Logging is not enabled for this container")]),s._v(" "),e("p",[s._v("If you deploy your application with NubesGen on Azure and something goes wrong, you want to check the logs.\nFor that, you go to the Azure console, and click on the menus "),e("em",[s._v("Monitoring -> Log Stream")]),s._v(" (the URL of the log stream looks like "),e("code",[s._v("https://<url of the app service>/logStream")]),s._v(").\nBut in certain cases, you will not see the logs of your application.\nInstead you will get the following message:")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("INFO  - Logging is not enabled for this container.Please use https://aka.ms/linux-diagnostics to enable logging to see container logs here.\n")])])]),e("p",[s._v("To see the logs of your application, from the Azure console, you need to follow the menus "),e("em",[s._v("Development Tools -> Advanced Tools -> Go -> Current Docker logs")]),s._v(".\nYou will reach a page displaying JSON with several URLs pointing at several log files.\nThis JSON looks like this:")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('[{"machineName":"ABCD_default","size":198155,"href":"https://myapp-001.scm.azurewebsites.net/api/vfs/LogFiles/2021_06_04_ABCD_default_docker.log"},\n{"machineName":"EFGH","size":277263,"href":"https://myapp-001.scm.azurewebsites.net/api/vfs/LogFiles/2021_06_04_EFGH_docker.log"}]\n')])])]),e("p",[s._v("To see the logs, just follow the link displayed on the JSON (eg. "),e("code",[s._v("https://myapp-001.scm.azurewebsites.net/api/vfs/LogFiles/2021_06_04_ABCD_default_docker.log")]),s._v(").")])])}),[],!1,null,null,null);t.default=n.exports}}]);